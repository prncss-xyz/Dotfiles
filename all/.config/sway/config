# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.

### Variables
#set $seat seat0
# Your preferred terminal emulator
set $term kitty
set $menu exec $term --class=launcher -e sway-launcher-desktop
# set $menu exec $term --class=launcher -e env GLYPH_COMMAND="" GLYPH_DESKTOP="" GLYPH_PROMPT="? " sway-launcher

# Your preferred application launcher
# Note: pass the final command to swaymsg so that the resulting window can be opened
# on the original workspace that the command was run on.
# set $menu dmenu_path | dmenu | xargs swaymsg exec --

mouse_warping none
focus_follows_mouse no

### Autoexec
exec kitty --title=scratchpad
exec ~/.local/bin/browser
exec ~/.local/bin/setbg-sway
exec mako
exec kdeconnect-app
exec kdeconnect-sms
exec kak -d -s default

### Idle

seat * hide_cursor 10000
exec swayidle -w \
 timeout 400 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
 timeout 300 'swaylock -f -c 000000' \
 before-sleep 'swaylock -f -c 000000'


# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.


# Read `man 5 sway-input` for more information about this section.

input "type:keyboard" {
  xkb_layout ca
  xkb_variant multi
}

### Placement

for_window [title="scratchpad"] {
  move scratchpad
}
for_window [app_id="org\.kde\.kdeconnect\.app"] {
  move scratchpad
}
for_window [app_id="org\.kde\.kdeconnect\.sms"] {
  move scratchpad
}

for_window [window_role="pop-up"] floating enable
for_window [app_id="dmenu.*"] floating enable, resize set width 60ppt height 80ppt
for_window [title="mv_pictures"] floating enable, resize set width 60ppt height 80ppt
for_window [app_id="^launcher$"] floating enable, sticky enable, resize set 30 ppt 60 ppt, border pixel 10

include /etc/sway/config.d/*
include ~/.config/sway/config.d/*
exec_always "systemctl --user import-environment; systemctl --user start sway-session.target"
