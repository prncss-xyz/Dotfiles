output * scale 2

set $term kitty

# output DP-1 scale 2
# Note: pass the final command to swaymsg so that the resulting window can be opened
# on the original workspace that the command was run on.
# set $menu dmenu_path | dmenu | xargs swaymsg exec --

exec wlsunset -l 45.5 -L -73.6
exec swayidle -w \
 timeout 300 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
 timeout 330 'swaylock' \
 before-sleep 'swaylock'

mouse_warping none
focus_follows_mouse no
for_window [workspace=1] layout stacking

### Autoexec
exec pactl set-sink-volume @DEFAULT_SINK@ 30%
exec pactl set-sink-mute @DEFAULT_SINK@ 0
for_window [title="^scratchpad$"] move scratchpad
exec $term --title=scratchpad
exec ~/.local/bin/setbg-sway
exec sleep 1; ~/.local/bin/browser
exec mako
exec languagetool --http
exec ~/Media/Projects/sway-mega-hotkeys/cli.js
exec ~/Media/Projects/nononotes/cli/index serve

input type:keyboard {
  ### Bring the escape key home!
  xkb_layout ca
  xkb_variant multi
}

input "1008:10826:Lite-On_Technology_Corp_HP_USB_Slim_Keyboard_-_Skylab" {
  ### Bring the escape key home!
  xkb_options caps:swapescape
}

# input "12951:18804:ZSA_Technology_Labs_ErgoDox_EZ" {
#   xkb_layout "fr"
#   xkb_variant "bepo"
# }

# assign [title="^Dotfiles$"] workspace 8
# exec "sleep 1; $term --directory=~/Dotfiles -e nvim"
assign [app_id="org\.kde\.kdeconnect\.sms"] workspace 9
exec kdeconnect-sms
assign [app_id="org\.kde\.kdeconnect\.app"] workspace 9
exec kdeconnect-app

### Idle

seat * hide_cursor 10000

# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.

# Read `man 5 sway-input` for more information about this section.

# input "type:keyboard" {
#   xkb_layout ca
#   xkb_variant multi
# }

### Placement

workspace_auto_back_and_forth yes
focus_on_window_activation smart

for_window [window_role="pop-up"] floating enable
for_window [app_id="dmenu.*"] floating enable, sticky enable, resize set width 60ppt height 80ppt
for_window [title="mv_pictures"] floating enable, sticky enable, resize set width 60ppt height 80ppt
for_window [app_id="^launcher$"] floating enable, sticky enable, resize set 30 ppt 60 ppt, border pixel 10

### Styling

smart_gaps on
default_border pixel 3
smart_borders on

# exec oguri
# mpvpaper -o "no-audio --loop-file=inf" DP-1 FalseEminentFlickertailsquirrel-mobile.mp4

# include ~/.config/sway/theme.conf
# 
# class                 border      background  text        indicator child_border
# client.focused         	"$background"	$background	$foreground	$color2		$color4	
# client.unfocused       	"$background"	$background	$foreground	$color4		$background
# client.focused_inactive	"$background"	$background	$foreground	$color4		"$background"
# client.urgent       		"$background"	$background	$foreground	$color4		$background
# client.placeholder	    "$background"	$background	$foreground	$color4	  "$background"

# client.background       $background

include ~/.config/sway/config.d/*
#
# Status Bar:
#
# Read `man 5 sway-bar` for more information about this section.
# bar {
#   position bottom

#   # When the status_command prints a new line to stdout, swaybar updates.
#   # The default just shows the current date and time.
#   status_command waybar
#   # status_command i3status-rs
#   # status_command while date +'%Y-%m-%d %H:%M'; do sleep 1; done
#   font pango:DejaVu Sans 10

#   colors {
#     statusline $foreground
#     background "$background"E6
#     # 0.9 -> E6
#     inactive_workspace $background $background $color2
#   }
#   #mode hide
#   #hidden_state hide
#   #modifier $mod
# }
exec waybar
include /etc/sway/config.d/*
exec_always "systemctl --user import-environment; systemctl --user start sway-session.target"
