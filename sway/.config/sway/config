# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.

### Variables
#set $seat seat0
# Your preferred terminal emulator
set $term kitty
# Your preferred application launcher
# Note: pass the final command to swaymsg so that the resulting window can be opened
# on the original workspace that the command was run on.
# set $menu dmenu_path | dmenu | xargs swaymsg exec --
### Output configuration
#
# Example configuration:
#
#   output HDMI-A-1 resolution 1920x1080 position 1920,0
#
# You can get the names of your outputs by running: swaymsg -t get_outputs

output DP-1 scale 2

mouse_warping none
focus_follows_mouse no

### Autoexec
exec kitty --title=scratchpad
exec ~/.local/bin/browser
exec gnome-keyring-daemon --start
exec ~/.local/bin/setbg-sway
# exec oguri
# mpvpaper -o "no-audio --loop-file=inf" DP-1 FalseEminentFlickertailsquirrel-mobile.mp4
exec mako
exec kdeconnect-app
exec kdeconnect-sms
exec kak -d -s default
# exec ulauncher
# exec albert
# exec ~/bin/keepassxc-unlock
# chromium --enable-features=UseOzonePlatform --ozone-platform=wayland --remote-debugging-port=9222
# bindsym $mod+n [class="Joplin"] scratchpad show
# assign [class="Joplin"] scratchpad

### Idle

seat * hide_cursor 10000
exec swayidle -w \
 timeout 300 'swaylock -f -c 000000' \
 timeout 400 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
 before-sleep 'swaylock -f -c 000000'


# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.


# Read `man 5 sway-input` for more information about this section.

input "type:keyboard" {
  xkb_layout ca
  xkb_variant multi
}

### Placement

for_window [title="scratchpad"] {
  move scratchpad
}
for_window [app_id="org\.kde\.kdeconnect\.app"] {
  move scratchpad
}
for_window [app_id="org\.kde\.kdeconnect\.sms"] {
  move scratchpad
}


for_window [window_role="pop-up"] floating enable
for_window [app_id="dmenu.*"] floating enable, resize set width 60ppt height 80ppt
for_window [title="mv_pictures"] floating enable, resize set width 60ppt height 80ppt


include /etc/sway/config.d/*
include ~/.config/sway/config.d/*
exec_always "systemctl --user import-environment; systemctl --user start sway-session.target"
